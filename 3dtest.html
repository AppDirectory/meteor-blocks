<head>
  <title>3dtest</title>
</head>

<body>
	<div class="ui">
		<h1>Meteor Blocks</h1>

		<p class="subtitle">Made with X3DOM</p>

		<h2>Mode</h2>
		<button class="view-mode btn {{#unless buildMode}}active{{/unless}}">
			Rotate View</button>
		<button class="build-mode btn {{#if buildMode}}active{{/if}}">
			Build</button>

		{{#if buildMode}}
			<h2>Tools</h2>
			<button class="clear-boxes btn">Clear all blocks</button>

			<div class="color-picker">
				<h2>Color picker</h2>
				{{#each colors}}
					<div class="swatch{{#if activeColor}} active{{/if}}" style="background-color: {{code}}">
						{{name}}
					</div>
				{{/each}}
			</div>
		{{/if}}

		<div class="github-link">
			<a href="http://git.io/meteor3d">See it on GitHub</a>
		</div>
	</div>

	<div class="{{#if buildMode}}build{{/if}}">
	  <x3d>
		  <scene>
		  	<viewpoint position="8.19 12.33 19.5" orientation="-0.834 0.55 0 0.65"></viewpoint>

	      <navigationinfo type="turntable" headlight="false"></navigationinfo>
		  	<pointLight location="0 40 0" intensity="0.3"></pointLight>
		  	<pointLight location="-30 10 -20" intensity="0.7"></pointLight>
		  	<directionalLight direction="-1 -1 -0.7" color="#ffe" intensity="0.8" shadowIntensity="0.4"></directionalLight>
		  	<transform rotation="-1.5707963267948966 0 0 1.5707963267948966">
			  	<shape onmousedown="shapeClicked(event)">
			  		<appearance>
				  		<material diffuseColor="#4A9"></material>
				  	</appearance>
				  	<plane size="20 20"></plane>
				  </shape>
				</transform>
		  	{{#each boxes}}
		  		<transform translation="{{x}} {{y}} {{z}}" scale="0.5 0.5 0.5">
				    <shape id="{{_id}}" onmousedown="shapeClicked(event)" onmouseover="shapeMouseover"
				    onmouseout="shapeMouseout">
				      <appearance>
				        <material diffuseColor="{{color}}" ambientIntensity="0.1" shininess="0"></material>
				        <lineProperties></lineProperties>
				      </appearance>
				      <box></box>
				    </shape>
				  </transform>
		    {{/each}}
		  </scene>
		</x3d>
	</div>
</body>
