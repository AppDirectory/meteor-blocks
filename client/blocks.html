<body>
	<div class="controls">
		{{#each colors}}
			<div class="swatch{{#if activeColor}} active{{/if}}"
				style="background-color: {{this}}"></div>
		{{/each}}
	</div>

  <x3d>
	  <scene>
	  	<!-- camera/scene settings -->
	  	<viewpoint position="8.19 12.33 19.5"
	  		orientation="-0.834 0.55 0 0.65"></viewpoint>
      <navigationinfo type="turntable" headlight="false">
      	</navigationinfo>
	  	
	  	<!-- lights -->
	  	<pointLight location="0 40 0" intensity="0.3"></pointLight>
	  	<pointLight location="-30 10 -20" intensity="0.7"></pointLight>
	  	<directionalLight direction="-1 -1 -0.7" color="#ffe"
	  		intensity="0.8" shadowIntensity="0.4"></directionalLight>
	  	
	  	<!-- ground -->
	  	<transform rotation="-1.5707 0 0 1.5707">
		  	<shape>
		  		<appearance><material diffuseColor="#4A9"></material>
		  			</appearance>
			  	<plane size="20 20"></plane>
			  </shape>
			</transform>

			<!-- boxes -->
	  	{{#each boxes}}
	  		<!-- scale 0.5 because default size of box is 2 units -->
	  		<transform translation="{{x}} {{y}} {{z}}" scale=".5 .5 .5">
			    <shape id="{{_id}}">
			      <appearance>
			        <material diffuseColor="{{color}}" ambientIntensity=".1"
			        	shininess="0"></material>
			      </appearance>
			      <box></box>
			    </shape>
			  </transform>
	    {{/each}}
	  </scene>
	</x3d>
</body>
